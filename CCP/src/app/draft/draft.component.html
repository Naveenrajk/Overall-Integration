<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">


<nav class="navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
        <a class="navbar-brand">
            <img src="https://cdn-icons-png.freepik.com/512/9449/9449265.png" alt="" style="height: 5%; width: 10%" />
            <a>&emsp;Poll Page</a>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent" slot="alignco" style="justify-content: right">
            <button class="btn btn-primary">
                <a routerLink="/create" class="md-4" id="btn"
                    style="text-decoration: none; color: white; text-align: center">
                    Create Poll
                </a>
            </button>
            <button class="btn btn-primary m-2">
                <a routerLink="/view" class="md-4 mt-4" id="btn"
                    style="text-decoration: none; color: white; text-align: center">
                    View Poll
                </a>
            </button>
            <button class="btn btn-primary m-2">
                <a routerLink="/viewEmployee" class="md-4 mt-4" id="btn"
                    style="text-decoration: none; color: white; text-align: center">
                    View Employee
                </a>
            </button>
        </div>
    </div>
</nav>
<div *ngFor="let poll of polls">

    <div class="container">
        <div class="card">
            <div class="card">
                <div class="card-header">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z"
                            fill="currentColor" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z"
                            fill="currentColor" />
                    </svg>
                    &nbsp; Jeyandhan has published a Poll in {{poll.region.regionName}}

                </div>
                <div class="card-body">
                    <div class="card-content">
                        <div class="table-responsive">
                            <div class="td1">
                                <h5 class="card-title">{{ poll.pollQuestion }}</h5>

                                <ng-container *ngFor="let options of option; index as i">
                                    <ng-container *ngIf=" options.pollId === poll.pollId">
                                        <div class="container">
                                            <div class="row">
                                                <div class="progress-container mt-4">
                                                    <label class="field">
                                                        <input [value]="options" (click)="optionResponseInsert(options)"
                                                            name="options" type="radio" class="m-4 " />
                                                        <div class="card" style="width: 18rem;">
                                                            <div class="card-body">
                                                                {{ options.value }}
                                                                <div class="progress"
                                                                    *ngIf="calculatePercentage(options.optionId) ">

                                                                    <div class="progress-bar" role="progressbar"
                                                                        [style.width.%]="calculatePercentage(options.optionId)"
                                                                        [attr.aria-valuenow]="calculatePercentage(options.optionId)">
                                                                        {{ options.value }}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                    </ng-container>
                                </ng-container>

                                <button (click)="getdraft()" (click)="toggleView()" class="btn btn-primary"
                                    *ngIf=(!isViewHide)>Enter to poll </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>